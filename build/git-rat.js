!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reloadStatusPagers=void 0;var a=n(2),r=[];t.reloadStatusPagers=function(){return r.forEach(function(e){return e.reload()})};t.default=function(e){var t=e.getContext(),n=e.getWorkingDir();!function(e){r.push(e)}(e),e.onDestroy(function(){!function(e){var t=r.indexOf(e);t>=0&&r.splice(t,1)}(e)}),e.addAnnotator(new Rat.MatchAnnotator("git ls-files --cached --modified --others --exclude-standard",n,"git_filename",t)),e.addEventHandler("a","git_filename",function(t){Rat.exec("git add $git_filename",t),e.reload()}),e.addEventHandler("r","git_filename",function(t){Rat.exec("git reset $git_filename > /dev/null",t),e.reload()}),(0,a.addChildPagerHandler)({pager:e,keyEvent:"d,d",requirements:"git_filename",mode:"git.stage",command:"echo $word_diff && git diff -U$context $word_diff $git_filename | diff-highlight"}),(0,a.addChildPagerHandler)({pager:e,keyEvent:"d,a",requirements:"git_filename",mode:"git.unstage",command:"git diff -U$context $word_diff --cached $git_filename | diff-highlight"}),e.addEventHandler("c,o","git_filename",function(t){Rat.confirmExec("git checkout $git_filename",t,function(){e.reload()})}),e.addEventHandler("S-d","git_filename",function(t){Rat.confirmExec("rm $git_filename",t,function(){e.reload()})}),(0,a.addChildPagerHandler)({pager:e,keyEvent:"v",requirements:"git_filename",mode:"git.source",command:"cat $git_filename"}),e.addEventHandler("e","git_filename",function(t){Rat.exec("${VISUAL:-${EDITOR:-vi}} $git_filename",t),e.reload()}),e.addEventHandler("S-c",function(){Rat.confirmExec("git commit",t,function(){e.reload()})}),e.addEventHandler("S-a",function(){Rat.confirmExec("git commit --amend",t,function(){e.reload()})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r={context:3,wordDiff:!1},i=function(e){e.set("context",r.context),r.wordDiff?e.set("word_diff","--word-diff=color"):e.set("word_diff","")};t.default=function(e){var t=e.getContext(),n=e.getWorkingDir();i(t),e.addAnnotator(new Rat.ExternalAnnotator("annotate-diff --mode hunks",n,"hunk_patch",t)),e.addAnnotator(new Rat.ExternalAnnotator("annotate-diff --mode lines",n,"line_patch",t)),e.addEventHandler("w,d",function(){r.wordDiff=!r.wordDiff,i(t),e.reload()}),e.addEventHandler("[",function(){r.context--,i(t),e.reload()}),e.addEventHandler("]",function(){r.context++,i(t),e.reload()}),(0,a.addChildPagerHandler)({pager:e,keyEvent:"S-l",requirements:"line_patch",mode:"debug",command:"echo $line_patch"}),(0,a.addChildPagerHandler)({pager:e,keyEvent:"S-h",requirements:"hunk_patch",mode:"debug",command:"echo $hunk_patch"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addChildPagerHandler=function(e){var t=e.pager,n=e.keyEvent,a=e.requirements,r=e.mode,i=e.command,o=t.getWorkingDir(),d=t.getContext();t.addEventHandler(n,a,function(e){var a=new Rat.CmdPager(r,i,o,Rat.mergeContext(d,e));Rat.addChildPager(t,a,n)})},t.addExecHandler=function(e){var t=e.pager,n=e.keyEvent,a=e.requirements,r=e.command,i=e.confirm,o=void 0!==i&&i;t.addEventHandler(n,a,function(e){o?Rat.confirmExec(r,e,function(){t.reload()}):(Rat.exec(r,e),t.reload())})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),i=(a=r)&&a.__esModule?a:{default:a},o=n(0);t.default=function(e){(0,i.default)(e);var t=e.getContext();e.getWorkingDir();e.addEventHandler("r","hunk_patch",function(n){Rat.exec('echo -nE "$hunk_patch" | git apply --cached --unidiff-zero --reverse -',Rat.mergeContext(t,n)),e.reload(),(0,o.reloadStatusPagers)()}),e.addEventHandler("1","line_patch",function(n){Rat.exec('echo -nE "$line_patch" | git apply --cached --unidiff-zero --reverse -',Rat.mergeContext(t,n)),e.reload(),(0,o.reloadStatusPagers)()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(1),i=(a=r)&&a.__esModule?a:{default:a},o=n(0);t.default=function(e){(0,i.default)(e);var t=e.getContext();e.getWorkingDir();e.addEventHandler("a","hunk_patch",function(n){Rat.exec('echo -nE "$hunk_patch" | git apply --cached --unidiff-zero -',Rat.mergeContext(t,n)),e.reload(),(0,o.reloadStatusPagers)()}),e.addEventHandler("1","line_patch",function(n){Rat.exec('echo -nE "$line_patch" | git apply --cached --unidiff-zero -',Rat.mergeContext(t,n)),e.reload(),(0,o.reloadStatusPagers)()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getContext(),n=e.getWorkingDir();e.addAnnotator(new Rat.MatchAnnotator("git ls-tree --name-only -r $git_commit",n,"git_filename",t)),e.addEventHandler("d","git_filename",function(a){Rat.addChildPager(e,new Rat.CmdPager("git.diff",'git log -p --follow -1 $git_commit -- "$git_filename" | diff-highlight',n,Rat.mergeContext(t,a)),"d")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(9);t.default=function(e){var t=e.getContext(),n=e.getWorkingDir();e.addAnnotator(new Rat.MatchAnnotator("git rev-list --all --reflog --abbrev=7 --abbrev-commit",n,"git_commit",t)),(0,a.addChildPagerHandler)({pager:e,keyEvent:"s",requirements:"git_commit",mode:"git.show",command:"git show --stat=400 -p $git_commit | diff-highlight"}),(0,a.addChildPagerHandler)({pager:e,keyEvent:"l",requirements:"git_commit",mode:"git.log",command:(0,r.logCommand)("$git_commit")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=u(n(6)),r=u(n(1)),i=u(n(9)),o=u(n(5)),d=u(n(4)),c=u(n(0)),l=u(n(3));function u(e){return e&&e.__esModule?e:{default:e}}t.default={commits:a.default,diff:r.default,log:i.default,show:o.default,stage:d.default,status:c.default,unstage:l.default}},function(e,t,n){"use strict";var a,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(7),o=(a=i)&&a.__esModule?a:{default:a},d=n(9);Object.keys(o.default).forEach(function(e){Rat.registerMode("git."+e,o.default[e])});var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"status",value:function(){Rat.pushPager(new Rat.CmdPager("git.status","git status -s -uall"))}},{key:"log",value:function(){Rat.pushPager(new Rat.CmdPager("git.log",(0,d.logCommand)()))}}]),e}();Rat.git||(Rat.git=new c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logCommand=void 0;var a,r=n(6),i=(a=r)&&a.__esModule?a:{default:a},o=n(2);var d="git log --graph --pretty=format:'%Cred%h%Creset%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --date=relative";t.logCommand=function(e){return e?d+" "+e:d};t.default=function(e){(0,i.default)(e);e.getContext(),e.getWorkingDir();(0,o.addExecHandler)({pager:e,keyEvent:"r,b",requirements:"git_commit",command:"git rebase --interactive $git_commit",confirm:!0}),(0,o.addExecHandler)({pager:e,keyEvent:"f,u",requirements:"git_commit",command:"git commit --fixup=$git_commit",confirm:!0}),(0,o.addExecHandler)({pager:e,keyEvent:"c,p",requirements:"git_commit",command:"git cherry-pick $git_commit",confirm:!0}),(0,o.addExecHandler)({pager:e,keyEvent:"r,v",requirements:"git_commit",command:"git revert $git_commit",confirm:!0}),(0,o.addExecHandler)({pager:e,keyEvent:"r,h,h",requirements:"git_commit",command:"git reset --hard $git_commit",confirm:!0}),(0,o.addExecHandler)({pager:e,keyEvent:"c,o",requirements:"git_commit",command:"git checkout $git_commit",confirm:!0})}}]);